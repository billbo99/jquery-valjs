/*! ValJS v0.7.6 (2015-01-06) | (c) 2014 | www.valjs.io */
window.ValJS=function(aa,g){function v(){var a=Array.prototype.slice.call(arguments);return g.extend.apply(g,a)}function w(a){var b=Array.prototype.slice.call(arguments,1);return g.prototype.data.apply(a,b)}function h(a){return void 0===a}function I(a){return"string"===typeof a}function q(a){return h(a)||null===a||h(a.length)?0:a.length}function O(a,b){return g(b).find(a)}function L(a,b){I(b)&&(b={error:b});g.isFunction(a)&&(a={error:a});I(a)?a=h(b)?{error:a}:v(!0,{error:a},b):h(a)?a=b:"object"===
typeof a?a=v(!0,{},a,b):console&&console.error&&console.error("valjsGetMsgConfig",a,b);return a}function r(a,b){var c=b.options;/^[a-z]+$/.test(a)?(h(c)||h(c.msg)||(c.msg=L(c.msg)),h(b.value)&&(b.value=!0),b=v(!0,{},l.ruleDefaults,{name:a},b),X.rules.k.push(a),X.rules[a]=b):g.error("Bad rule name")}function M(a,b,c){var d=a.config.elements,e=a.config.modifiers||{},f=d&&d[b]?[d[b]]:[],g="";if(!c)return f[0];a.config.modifierSeparator&&d[b]&&(g=d[b]+a.config.modifierSeparator);if(I(c))f.push(h(g+e[c])?
"":e[c]);else if(q(c))for(a=0;a<q(c);a+=1)f.push(h(g+e[c[a]])?"":e[c[a]]);return f.join(" ")}function ga(a){var b=a.element;return b?w(b,"vjs-bn").getCfg().iFindMsgFn(a):null}function S(a,b){return a.addClass(b)}function Y(a,b,c,d){if(a)return a.removeClass(b.vars[c]),S(a,M(b,c,d)),a}function T(a){var b=w(a,"valjs-ty"),c,d;if(!h(b))return w(a,"valjs-ty");b=a.prop("tagName").toLowerCase();c={type:null};d=["text","checkbox","file","radio","submit"];"input"===b?(b=a.prop("type").toLowerCase(),h(b)||
(-1===g.inArray(b,d)?(c[b]=!0,c.type="text"):c.type=b)):"select"===b?(c.type=b,c.isMultiple=h(a.attr("multiple"))?!1:!0):"textarea"===b&&(c.type=b);w(a,"valjs-ty",c);return c}function U(a,b){var c=T(a).type,d=w(a,"vjs-bn"),e=d?d.g("c"):null,f=null,m={value:null,upd:!0};if("submit"===c)return m;switch(c){case "checkbox":case "radio":f=a.prop("checked");break;case "select":m.value=g.map(a.find("option"),function(a){a=g(a);if(a.is(":selected"))return h(a.val())?a.text():a.val()});f=m.value.join(",");
""===f&&0<q(m.value)&&(f=" ");break;default:f=a.val()}h(e)?h(b)||"click"!==b.type||(m.upd=!1):e===f&&(m.upd=!1);null===m.value&&(m.value=f);d&&d.s("c",f);return m}function ha(a){for(var b=/-([a-z0-9])/g,c=b.exec(a),d=String(a);null!==c;)d=d.replace(c[0],String(c[1].toUpperCase())),c=b.exec(a);return d}function V(a,b){var c=a.attr("id"),d=c?O("label[for='"+a.attr("id")+"']",b.jqContext):null;c&&0!==q(d)||"LABEL"===a.parent().get(0).nodeName&&(d=a.parent());return d}function Z(a,b,c){b=jQuery.Event(b+
".valjs",c);a.trigger(b);return b}function ia(a,b,c){var d=c.status,e=w(b,"vjs-bn").getCfg(),f=c.state,g=c.message,h=null,J=""!==g&&"invalid"===d,G,n=!1;G=V(b,a);"valid"===d?(h="valid",n=!0):"unknown"===d?(h="unknown",n=!0):(h=["invalid",f],n=!1);c.ruleConfig=e[c.rule];c=ga({element:b,valjs:a,create:J,validation:c});1===q(c)&&(n?c.html("").hide():c.html(g),Y(c,a,"msg",h));Y(b,a,"field",h);1===q(G)&&Y(G,a,"label",h);return b}function ja(a,b){var c=w(a,"vjs-bn"),d;c.r("s");d={status:"unknown"};Z(a,
"refreshfield",{valjs:v(d,{binding:c,context:b.jqContext,form:b.$form,element:a})}).isDefaultPrevented()||ia(b,a,d)}function ka(a){return a.is(":visible")&&!a.is(":disabled")}function ba(a,b,c,d,e){var f=w(a,"vjs-bn"),m=w(a,"vjs-bn").getCfg(),t=m?m.ruleNames:null,m=f.g("h");if(!1!==b.config.liveValidation||e){if(ka(a)){h(e)&&(e=!1);h(d)&&(d=U(a,c));var J=d,G=e,n,sa=w(a,"vjs-bn").getCfg(),l,x,u=[];d=[];var F=[],k;for(n=0;n<q(t);n+=1){l=X.rules[t[n]];x=sa[t[n]];var y=b,p=a;k=J;var A=c,D=l;k={binding:w(p,
"vjs-bn"),event:A,config:x,valjs:y,element:p,field:v({value:k.value},T(p))};A=void 0;k.binding.setRuleContext(D.name);A=D.run(k,p);k.binding.setRuleContext(null);k=A;p={valjs:y,config:x,rule:D,element:p,msgName:null};x=void 0;y={ok:!0,result:null};D=p.rule;if(!0!==k&&("object"!==typeof k||k.msg)){x=p;var A=k,B=void 0;"boolean"===typeof A?B="error":"object"===typeof A?B=A.msg:I(A)&&(B=A);x.msgName=B;"object"===typeof k&&(x=v(!0,{},k),delete x.msg,p.result=x);D.options&&D.options.msg&&null===D.options.msg.error&&
null!==p.config.msg.error&&(p.msgName="error");D=p;p=p.config;x=D.msgName;g.isFunction(p.msg)?k=p.msg(D):h(p.msg)||h(p.msg[x])||(g.isFunction(p.msg[x])?k=p.msg[x](D):I(x)&&(k=p.msg[x]));y.ok=!1}y.result=k;k=y;!1===k.ok?(u.push(l.name+k.result),d.push(v(!0,{},{msg:k.result},{rule:l.name}))):F.push(v(!0,{},k.result,{rule:l.name}))}c=(G?"1":"0")+u.join("|");t=5381;for(J=0;J<q(c);J+=1)G=c.charCodeAt(J),t=(t<<5)+t+G;u=t;if(m===u&&!1===b.config.alwaysTriggerFieldEvents)return f.g("s");f.s("h",u);m=e;e=
-1;f=w(a,"vjs-bn");if(!h(b)&&0<q(d)){if(f.setRuleContext(d[0].rule),d={status:"invalid",state:m?"error":"warning",message:d[0].msg,rule:d[0].rule},m=V(a,b))d.label=m.text()}else d={status:"valid"},e=1;f.s("v",e);f.s("s",d);Z(a,"refreshfield",{valjs:v(d,{binding:f,context:b.jqContext,form:b.$form,element:a})}).isDefaultPrevented()||ia(b,a,d);f.setRuleContext(null);return 1===e?e:d}f.g("h")&&ja(a,b)}}function C(){}function ca(a,b){function c(){e.ruleNames.sort(function(a,b){a=d[a].prio;b=d[b].prio;
return a<b?-1:a>b?1:0})}var d=X.rules,e=null,f=this,m=null,t={};this.s=function(a,b){t[a]=b};this.g=function(a){return t[a]};this.r=function(a){t[a]&&delete t[a]};this.setRuleContext=function(a){m=a};this.getCfg=function(){return e};this.getContext=function(){return a.jqContext};this.getElement=function(){return b};this.getFieldStatus=function(){var a=f.g("v");return h(a)?0:a};this.getForm=function(){return a.$form};this.getRules=function(){return e.ruleNames};this.getRule=function(a){h(a)&&m&&(a=
m);return I(a)&&this.hasRule(a)?e[a]:null};this.hasRule=function(a){var b=0;if("[object Array]"===Object.prototype.toString.call(a)){for(b=0;b<a.length;b+=1)if(e.hasOwnProperty(a[b]))return!0;return!1}a||g.error("Bad args");return e.hasOwnProperty(a)};this.getFieldType=function(){return T(b)};this.resetField=function(){ja(b,a);return b};this.getFieldValue=function(){return U(b)};this.validateField=function(){var c=U(b);return ba(b,a.jqContext,c)};this.isBound=function(){return 0<e.ruleNames.length};
(function(){var m=h(a.config.msg)?{}:{msg:L(a.config.msg)},G={findMsg:a.config.findMsg,findLabel:a.config.findLabel},n=a.config,l={},t=b.attr("name");t&&!h(n[t])&&(h(n[t].findMsg)||(l.findMsg=n[t].findMsg),h(n[t].findLabel)||(l.findLabel=n[t].findLabel));G=v(G,l);n=(n=b.attr("data-"+a.config.attrPrefix+"msg"))?{msg:L(n)}:{};w(b,"vjs-bn",f);for(var x,l=0,u,t={ruleNames:[]},l=0;l<q(d.k);l+=1){x=h(d[d.k[l]].options)?{}:d[d.k[l]].options;u=d.k[l];var F=a.config,k={},y=b.attr("name"),p=v(!0,{},F.fields),
F=F.rules;h(F)||h(F[u])||(k=v(k,F[u]),h(F[u].msg)||(k.msg=L(F[u].msg)));p&&y&&!h(p[y])&&(h(p[y].msg)||(k.msg=L(p[y].msg,k.msg)),h(p[y][u])||(k.elmRules={},k.elmRules[u]="instance.name",h(p[y][u].msg)||(k.msg=L(k.msg,p[y][u].msg),delete p[y][u].msg),k=v(!0,k,p[y][u])));u=k;x=v(!0,{},x,m,u,n);var y=a,F=b,p=d[d.k[l]],A=x;u={};var D="data-"+y.config.attrPrefix+p.name,B=F.attr(D),k=null,z=void 0,z=void 0;if(A=!h(A.elmRules)&&!h(A.elmRules[p.name]))k={data:{}};else if(h(B)){var k={binding:null,elmRules:void 0},
z=void 0,r=p.name;!0===y.config.allowRuleInitialization&&(z=p.testElement({form:y.$form,context:y.jqContext,rule:p,element:F,valjs:y}),"object"===typeof z?h(z[r])?k.binding={data:z}:(k.binding={data:{}},k.elmRules={},k.elmRules[r]=!0):"boolean"===typeof z&&!0===z&&(k.binding={data:{}},k.elmRules={},k.elmRules[r]=!0));z=k;k=z.binding;u.elmRules=z.elmRules}else u.elmRules={},u.elmRules[p.name]="attribute";h(B)||(k={data:{}},""!==B||h(p.options)||h(p.options.value)||(B=p.options.value),k.data.value=
B);if(k||A){u.elmRules={};u.elmRules[p.name]=1;z={};if(null!==k){y=D;F=F[0].attributes;D=void 0;B={};z=A=r=void 0;for(D=0;D<q(F);D+=1)if(r=F[D].name,0===r.indexOf(y+"-")&&r.length>y.length)if(A=ha(r.substr(q(y)+1)),F[D].value){var z=p,C=A,E=F[D].value;h(z.options)||h(z.options[C])||"boolean"===typeof z.options[C]&&("true"===E.toLowerCase()?E=!0:"false"===E.toLowerCase()&&(E=!1));z=E;C=y+"-msg";E=z;0===r.indexOf(C)?r===C?(B.msg=B.msg||{},B.msg.error=E):-1!==r.indexOf(C+"-")&&(B.msg=B.msg||{},B.msg[ha(r.substr((C+
"-").length))]=E):B=E;B===z&&(B={},B[A]=z)}else z=B,r=A,C=p,A=h(C.options)||h(C.options[A])||"boolean"!==typeof C.options[A]?{}:!0,z[r]=A;z=B}u=v(!0,{},u,k.data,z);h(u.msg)||(u.msg=L(u.msg))}x=v(!0,x,u);x.msg=x.msg||{};h(x.elmRules)||(delete x.elmRules,t.ruleNames.push(d.k[l]),t[d.k[l]]=x)}e=t;e.iFindMsgFn=G.findMsg;e.iFindLabelFn=G.findLabel;c();m={valjs:a,elm:b,config:e};a.config.setupField!==g.noop&&a.config.setupField(m);e=m.config;return this})();(function(){var c=e.ruleNames.slice(0),m,n,t;
if(0===e.ruleNames.length)m=ga(b,a,!1),c=V(b,a),m&&m.hide(),m=M(a,"field"),b.removeClass(m),b.removeClass(a.vars.field),c&&(m=M(a,"label"),c.removeClass(m),c.removeClass(a.vars.label)),b.removeData("vjs-bn"),b.removeData("valjs-ty"),b.removeData("vjs-i"),b.removeData("c");else if(e.ruleNames=[],0!==q(c)){for(m=0;m<q(c);m+=1)n=d[c[m]],null===n.bind||h(n.bind)||n.bind===g.noop?t=!0:(f.setRuleContext(n.name),t=n.bind(v({config:a.config,context:a.jqContext,form:a.$form},{binding:f,valjs:a,element:b,field:T(b),
config:e[n.name],rule:n})),f.setRuleContext(null)),!1!==t?("object"===typeof t&&(e[n.name]=v(!0,{},e[n.name],t)),e.ruleNames.push(c[m])):delete e[c[m]];0!==e.ruleNames.length&&(e.fieldType=T(b),c=e,l.idCounter+=1,c.uid=l.idCounter,c=w(b,"vjs-bn")?"":"unknown",S(b,M(a,"field",c)).data(a.vars.off,0),Y(V(b,a),a,"label",c));return this}})()}function da(a){var b=g(this);w(b,"vjs-bn")&&(b=U(g(this),a),!0===b.upd&&ba(g(this),a.data.valjs,a,b))}function la(a){var b=a.data.valjs,c=b.$form;"TEXTAREA"!==g(a.target).prop("tagName")&&
(c.data("vjsf",b),"keydown"===a.type&&13===a.keyCode&&(w(c,"vjsf",b),0<q(b.s)?(a.preventDefault(),g(b.s).first().trigger("click")):0===q(c.find('input[type="submit"],button[type="submit"],button:not([type]),input[type="image"]'))&&(a.preventDefault(),c.trigger("submit"))))}function ma(a,b,c){var d,e,f,m={invalid:[]},t=q(a.e);for(d=0;d<t;d+=1)f=g(a.e[d]),e=U(f,b),e=ba(f,a,b,e,!0===c?!0:!1),h(e)||!0===e||"invalid"!==e.status||m.invalid.push(e);return m}function ta(a,b){if(b&&!0===b.valjsDone)return!0;
var c=w(g(this),"vjsf"),d=null,e;if(!c)return a.preventDefault(),g(this).trigger("submit",{valjsDone:!0}),!0;e=c.jqContext;g(this).removeData("vjsf");d=ma(c,a,!0);if(0===q(d.invalid)){var d=c.context,f=c.$form[0],h=c.$form[0],t=c.context,c=c.jqContext.find("input,select,textarea,button").serializeArray(),l={},r,n;for(n=0;n<q(c);n+=1)l[c[n].name]?(I(l[c[n].name])&&(r=String(l[c[n].name]),l[c[n].name]=[r]),l[c[n].name].push(c[n].value)):l[c[n].name]=c[n].value;e=Z(e,"submitform",{currentTarget:d,target:f,
valjs:v({},{form:h,context:t,formData:l})});e.isDefaultPrevented()?a.preventDefault():g(this).trigger("submit",{valjsDone:!0})}else return Z(e,"invalidform",{target:c.context,valjs:v({},d,{form:c.$form[0],context:c.context})}),g(this).removeData("vjsf"),a.preventDefault(),!1}function P(a){var b=[],c;for(c=0;c<q(a);c+=1)b.push(a[c]+".valjs");return b.join(" ")}function Q(a,b){return h(a)?-1:a.indexOf(b)}function ua(a){var b=a.elements,c=a.modifiers||{},d=[],e,f,g,h={};for(e in c)c.hasOwnProperty(e)&&
d.push(e);for(f in b)if(b.hasOwnProperty(f)){e=[];for(g=0;g<q(d);g+=1)e.push((a.modifierSeparator?b[f]+a.modifierSeparator:"")+c[d[g]]);h[f]=e.join(" ")}return h}function va(a,b){var c=null;if(0===Q(b,"#"))return g(b);c=a.find('[name="'+b+'"]');0===q(c)&&(c=a.find(b).first());return c}function W(a){var b=a.config.selector,c;a.e=[];b=O(b.elements,a.context);for(c=0;c<q(b);c+=1)(new ca(a,g(b[c]))).isBound()&&a.e.push(b[c]);w(a.$form,"vjs-b")||(w(a.$form,"vjs-b",1),a.$form.on(P(["submit"]),{valjs:a},
ta));a.jqContext.on(P(["click","change","keyup","blur"]),"textarea, input:not([type=checkbox], [type=radio], [type=submit], [type=button])",{valjs:a},da).on(P(["keydown"]),{valjs:a},la).on(P(["click","change"]),"select",{valjs:a},da).on(P(["click","change"]),"input[type=checkbox], input[type=radio]",{valjs:a},da);g(a.s).on(P(["click"]),{valjsSubmit:!0,valjs:a},la)}function E(a){return parseInt(a,10)}function K(a){if(0===a)return"n/a";var b=E(Math.floor(Math.log(a)/Math.log(1024)));return Math.round(a/
Math.pow(1024,b),2)+(0<b?" ":"")+(0<b?" KMGTPEZY"[b]+"iB":" bytes")}function na(a){a.setDate(a.getDate()+3-(a.getDay()+6)%7);return a.getFullYear()}function wa(a,b){var c,d,e,f={isDate:!1,isWeek:!1,isDateRelated:!1,pattern:"",macroPositions:[]};for(c=0;c<q(b);c+=1)f.macroPositions.push([b[c],Q(a,"%"+b[c])]),"m"===b[c]?f.isDate=!0:"H"===b[c]?f.isDateTime=!0:"w"===b[c]&&(f.isWeek=!0);f.isDateRelated=f.isDate||f.isDateTime;f.isDate=!f.isWeek&&!f.isDateTime;f.macroPositions.sort(function(a,b){a=a[1];
b=b[1];return a<b?-1:a>b?1:0});for(c=0;c<f.macroPositions.length;c+=1);f.pattern=a.replace(".","\\.").replace("(","\\(").replace(")","\\)").replace(/\\/g,"\\\\");for(c=0;c<q(b);c+=1){d="%"+b[c];switch(b[c]){case "y":e="(\\d{4})";break;default:e="(\\d{1,2})"}f.pattern=f.pattern.replace(d,e)}return f}function N(a,b,c){if("now"===a)return{date:new Date};var d;d=null;b=wa(b,c);if(c=new RegExp("^"+b.pattern+"$"))if(a=c.exec(a)){d={};for(c=1;c<a.length;c+=1)d[b.macroPositions[c-1][0]]=E(a[c]);if(b.isDateRelated){var e,
f;--d.m;e=b.isDate?new Date(d.y,d.m,d.d):new Date(d.y,d.m,d.d,d.H,d.M);e.getFullYear()===d.y&&e.getMonth()===d.m&&e.getDate()===d.d&&(b.isDateTime?e.getHours()===d.H&&e.getMinutes()===d.M&&(f=v(!0,{},d,{date:e})):f=v(!0,{},d,{date:e}));d=f}else f=new Date(d.y,0,1+7*(d.w-1)),4>=f.getDay()?f.setDate(f.getDate()-f.getDay()+1):f.setDate(f.getDate()+8-f.getDay()),1===d.w&&na(f)===d.y-1&&(e=v(!0,{},d,{date:f})),f.getFullYear()===na(f)&&f.getFullYear()===d.y&&(e=v(!0,{},d,{date:f})),d=e}return d}function oa(a,
b,c,d){var e=N(a.config.max,c,d);return(a=N(a.config.min,c,d))&&b<a.date?"min":e&&b>e.date?"max":!0}function ea(a,b){var c=a.field.value,d=a.config.format;if("d"===b){if(c=N(c,d,["y","m","d"]))return oa(a,c.date,"%y-%m-%d",["y","m","d"])}else if("dt"===b){if(c=N(c,d,["y","m","d","H","M"]))return oa(a,c.date,"%y-%m-%d %H:%M",["y","m","d","H","M"])}else if("w"===b&&(c=N(c,d,["y","w"]))){var e=["y","w"],d=N(a.config.max,"%y-W%w",e),c=(e=N(a.config.min,"%y-W%w",e))&&c.date<e.date?"min":d&&c.date>d.date?
"max":!0;return c}return!1}function pa(a,b){var c=a.valjs("getFieldType"),d=a.attr(b);return"select"===c.type&&!0===c.isMultiple?h(d)?!1:{value:d}:!1}function fa(a,b,c){if(!a)return NaN;"."!==b&&(a=a.replace(".","=-=!"));a=a.replace(b,".");a=a.replace(/^0+(\d)/,"$1");c&&(a=a.replace(/\.0+$/,""),-1!==a.indexOf(".")&&(a=a.replace(/\.([0-9]+?)(0+)$/,".$1")));b=c?parseFloat(a):E(a);return String(b)===String(a)?b:NaN}function qa(a){if(!("text"!==a.type&&"textarea"!==a.type||a.date||a.number||a.week||a.datetime))return!0}
function R(a){return a.binding.getFieldValue().value}function H(a){return a.binding.getRule()}var l=function(a,b){this.valjsv="0.7.6";this.context=a;this.jqContext=g(a);this.jqContext.data("vjs-i",this);this.options=b;this.metadata=this.jqContext.data("valjs");this.$form=null;this.vars={off:"valjs__off",clean:{}};this.e=[];this.s=[]},xa=aa.ValJS&&aa.ValJS.global?aa.ValJS.global:{},X=l,ra="week date datetime number listmax filemin filemax".split(" ");C.prototype.hasRule=g.noop;C.prototype.getFieldType=
g.noop;C.prototype.getRules=g.noop;C.prototype.resetField=g.noop;C.prototype.validateField=g.noop;C.prototype.getContext=g.noop;C.prototype.getForm=g.noop;C.prototype.getRule=g.noop;C.prototype.getFieldValue=g.noop;C.prototype.getFieldStatus=g.noop;ca.prototype=new C;l.prototype={defaults:{elements:{submit:"valjs__submit",field:"valjs__field",form:"valjs__form",label:"valjs__label",msg:"valjs__msg",context:"valjs__context"},alwaysTriggerFieldEvents:!1,liveValidation:!0,createMsg:!0,modifierSeparator:null,
attrPrefix:"",findMsg:function(a){var b=a.element,c=a.valjs;a=a.create;var d=null,e=c.jqContext.find("[data-msg-for='"+b.attr("id")+"']");c.config.elements&&c.config.elements.msg&&0===q(e)&&(d="LABEL"===b.parent().prop("tagName")?b.parent():b,e=d.next("."+c.config.elements.msg));0===q(e)&&a&&c.config.createMsg&&(e=g("<span>"),e=e.insertAfter(d));a&&e.show();return e},findLabel:V,allowRuleInitialization:!0,setupField:g.noop,modifiers:{valid:"valjs-valid",invalid:"valjs-invalid",unknown:"valjs-unknown",
error:"valjs-error",warning:"valjs-warning"},selector:{elements:"input:not([type=submit], [type=button]),select,textarea",submit:'input[type="submit"],button[type="submit"],button:not([type]),input[type="image"]'},submitform:g.noop},ruleDefaults:{testElement:g.noop,bind:g.noop,prio:100,run:g.noop,options:{value:!0},findMsg:g.noop},validateForm:function(){var a=w(g(this),"vjs-i");return ma(a,jQuery.Event("validateForm"),!1)},updateBindings:function(){W(w(g(this),"vjs-i"))},getRuleMessages:function(){W(w(g(this),
"vjs-i"))},init:function(){this.config=v(!0,{},this.defaults,xa,l.global,this.options);var a=this,b=this.config.selector;this.vars=ua(this.config);if("FORM"===this.jqContext.prop("tagName"))this.$form=this.jqContext;else if(this.$form=this.jqContext.closest("form"),w(this.$form,"vjs-i"))throw"valjs: form/context conflict";S(this.jqContext,M(this,"context"));S(this.$form.attr("novalidate",""),M(this,"form"));this.s=g(O(b.submit,this.jqContext));S(this.s,M(this,"submit"));if(this.config.submitform&&
this.config.submitform!==g.noop)this.jqContext.on("submitform.valjs",this.config.submitform);g.isFunction(this.config.init)?setTimeout(function(){W(a);a.config.init(a)},1):W(a);return this},refresh:function(){W(this)},isElementBound:function(){return w(g(this),"vjs-bn")?!0:!1},disable:function(a){this.valjsv&&(a=this.$elm.find(a),w(a,this.vars.off,1))}};l.idCounter=0;l.ruleDefaults=l.prototype.ruleDefaults;l.global={};l.addRule=r;l.rules={k:[]};g.fn.valjs=function(a){if(l.prototype[a])return l.prototype[a].apply(g(this),
Array.prototype.slice.call(arguments,1));if(ca.prototype[a]&&w(g(this),"vjs-bn")){var b=Array.prototype.slice.call(arguments,1),c=this.map(function(c){c=a;var e=b;if(l.prototype[c])c=l.prototype[c].apply(g(this),e);else{var f=w(g(this),"vjs-bn");c=f?f[c].apply(f,e):{}}return c});return 1===c.length?c[0]:c}if("object"===typeof a||!a)return this.each(function(){if(w(g(this),"vjs-i"))return g(this).valjs("updateBindings"),this;(new l(this,a||{})).init()});g.error("No ValJS method "+a)};r("listmin",{options:{msg:"Select more items"},
testElement:function(a){return pa(a.element,"min")},run:function(a){var b=a.config.value;return q(O("option:selected",a.element))>=b},bind:function(a){return{value:E(a.config.value)}}});r("listmax",{options:{msg:"Too many items selected"},testElement:function(a){return pa(a.element,"max")},run:function(a){var b=a.config.value;return q(O("option:selected",a.element))<=b},bind:function(a){return{value:E(a.config.value)}}});r("date",{options:{msg:{error:"Invalid date",max:"Enter an earlier date",min:"Enter a later date"},
format:"%y-%m-%d"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=a.element;var b,c={};if(b=a.attr("min"))c.min=b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ea(a,"d")}});r("datetime",{options:{msg:{error:"Invalid date",max:"Enter an earlier date",min:"Enter a later date"},format:"%y-%m-%d %H:%M"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=a.element;var b,c={};if(b=a.attr("min"))c.min=
b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ea(a,"dt")}});r("week",{options:{msg:{error:"Invalid week",max:"Enter an earlier week",min:"Enter a later week"},format:"%y-W%w"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=a.element;var b,c={};if(b=a.attr("min"))c.min=b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ea(a,"w")}});r("required",{options:{msg:"Required",trim:!1,emptyIndex:void 0,
emptyValue:void 0},prio:10,testElement:function(a){return!h(a.element.attr(a.rule.name))},run:function(a){var b=a.element,c=a.field.type,d=a.field.value,e=0;if("text"===c||"textarea"===c||"file"===c){if(d=!0===a.config.trim?g.trim(a.field.value):d,0===q(d))return"error"}else if("select"===c)if(h(b.attr("multiple"))){if(!h(a.config.emptyIndex))return e=E(a.config.emptyIndex),d=O("option:selected",b).index(),d===e?"error":!0;if(!h(a.config.emptyValue))return d[0]===a.config.emptyValue?"error":!0;if(0===
q(d[0]))return"error"}else{if(0===q(d))return"error"}else if(("checkbox"===c||"radio"===c)&&!1===d)return"error";return!0}});r("number",{options:{msg:{error:"Not a number",max:"Value too high",min:"Value too low"},separator:".",step:null},testElement:function(a){return"number"===a.element.attr("type")},run:function(a){var b=a.field.value,c="any"===a.config.step,d=fa(a.config.max,".",c),e=fa(a.config.min,".",c),f=b;if(0!==q(b)){f=fa(b,a.config.separator,c);if(isNaN(f))return!1;if(!isNaN(e)&&f<e)return"min";
if(!isNaN(d)&&f>d)return"max"}return!0},bind:function(a){return{step:a.element.attr("step"),min:a.element.attr("min"),max:a.element.attr("max")}}});r("textmax",{options:{msg:{error:"Text too long"}},prio:150,testElement:function(a){var b=a.element.valjs("getFieldType");if((a=a.element.attr("max"))&&qa(b))return{value:a}},bind:function(a){var b=H(a);return a.binding.hasRule(ra)?!1:v(!0,b,{value:E(b.value)})},run:function(a){var b=R(a);a=H(a);return b&&q(b)>a.value?!1:!0}});r("textmin",{options:{msg:{error:"Text too short"}},
prio:150,testElement:function(a){var b=a.element.valjs("getFieldType");if((a=a.element.attr("min"))&&qa(b))return{value:a}},bind:function(a){var b=H(a);return a.binding.hasRule(ra)?!1:v(!0,b,{value:E(b.value)})},run:function(a){var b=R(a);return b&&q(b)<H(a).value?!1:!0}});r("filemax",{options:{msg:{error:null,one:"File too large",all:"Total size too large"}},testElement:function(a){var b=a.element.valjs("getFieldType");a=a.element.attr("max");if("file"===b.type&&a)return{value:a}},bind:function(a){a=
H(a);return v(!0,a,{value:E(a.value)})},run:function(a){var b=H(a).value,c=a.binding.getElement()[0].files,d=q(c),e,f=0;if(0<d){for(e=0;e<d;e+=1)if(a=c[e].size,f+=a,a>b)return{msg:"one",maxKiB:b,maxsize:K(b),filename:c[e].name,fileKiB:a,filesize:K(a)};if(f>b)return{msg:"all",totalKiB:f,totalsize:K(f),maxsize:K(b),maxKiB:b}}return!0}});r("filemin",{options:{msg:{error:null,one:"File too small",all:"Total size too small"}},testElement:function(a){var b=a.element.valjs("getFieldType");a=a.element.attr("min");
if("file"===b.type&&a)return{value:a}},bind:function(a){a=H(a);return v(!0,a,{value:E(a.value)})},run:function(a){var b=H(a).value,c=a.binding.getElement()[0].files,d=q(c),e,f=0;if(0<d){for(e=0;e<d;e+=1)if(a=c[e].size,f+=a,a<b)return{msg:"one",minbytes:b,minsize:K(b),filename:c[e].name,filebytes:a,filesize:K(a)};if(f<b)return{msg:"all",totalbytes:f,totalsize:K(f),minsize:K(b),minbytes:b}}return!0}});r("email",{options:{msg:{error:"Invalid e-mail"},domain:!0},testElement:function(a){return a.element.attr("type")===
a.rule.name},run:function(a){var b=R(a),c,d=!0,e,f;return 0<q(b)?(I(b)||(b=b[0]),c=b.indexOf("@"),-1===c?d=!1:(d=b.substr(c+1),c=b.substr(0,c),e=c.length,f=d.length,d=1>e||64<e||1>f||255<f||"."===c[0]||"."===c[e-1]||/\.\./.test(c)||!/^[\u00e5\u00e4\u00f6A-Za-z0-9\\-\\.]+$/.test(d)||!/^[\u00e5\u00e4\u00f6A-Za-z0-9\\-\\.]+$/.test(d)||/\.\./.test(d)||!/^(\.|[A-Za-z0-9!#%&`_=\/$\'*+?\^{}|~.\-])+$/.test(c.replace("\\\\",""))&&!/^"(\\\\"|[^"])+"$/.test(c.replace("\\\\",""))?!1:!0,a.config.domain&&(/\.[a-z]{2,4}$/.test(b)||
(d=!1))),d?!0:!1):!0},bind:function(a){var b=a.binding.getFieldType().type;a=a.binding.getElement();return"select"!==b||h(a.attr("multiple"))?!0:!1}});r("confirm",{options:{msg:{error:"Fields don't match",invalidSource:"Source field invalid"}},run:function(a){var b=a.binding.getElement();a=H(a).celm;if(a.valjs("isElementBound")){if(!ka(a))return!0;0===a.valjs("getFieldStatus")&&a.valjs("validateField");if(-1===a.valjs("getFieldStatus"))return"invalidSource"}return a.val()===b.val()?!0:!1},bind:function(a){var b=
va(a.context,a.config.value);if(!h(b)){if(a.valjs.config.liveValidation)b.on("keydown keyup change blur",function(){a.element.valjs("validateField")}).on("validfield.valjs",function(){a.element.valjs("validateField")});return{celm:b}}}});r("pattern",{options:{ignoreCase:!1,invert:!1,msg:{error:"Incorrect format"}},testElement:function(a){if(a=a.element.attr("pattern"))return{value:a}},run:function(a){var b=H(a),c=b.invert,b=new RegExp(b.value,b.ignoreCase?"i":"");if(a=R(a)){if(b){if(a=b.test(a))return c?
!1:!0;if(c)return!0}return!1}return!0}});r("url",{options:{value:"ost",msg:{error:"Invalid URL"}},testElement:function(a){return"url"===a.element.attr("type")},run:function(a){return(a=R(a))?/^(https?|s?ftp|wss?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a):
!0}});r("security",{options:{value:"luns",match:2,msg:{error:"Requirements not met"}},bind:function(a){return{match:E(a.config.match)}},run:function(a){var b=H(a);a=R(a);var c=b.value,b=b.match,d=0;b>c.length&&(b=c.length);-1!==Q(c,"l")&&(d+=a.match(/[a-z]/)?1:0);-1!==Q(c,"u")&&(d+=a.match(/[A-Z]/)?1:0);-1!==Q(c,"n")&&(d+=a.match(/\d/)?1:0);-1!==Q(c,"s")&&(c=new RegExp("["+'!@#$%^&*()_+|~-=\u00e2\u20ac\u02dc{}[]:";\u00e2\u20ac\u2122<>?,./'.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"]"),
a.match(c)&&(d+=1));return d>=b?!0:!1}});return l}(window,jQuery);