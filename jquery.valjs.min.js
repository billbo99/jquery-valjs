/*! ValJS v0.7.6 (2015-01-06) | (c) 2014 | www.valjs.io */
window.ValJS=function(X,h){function v(){var a=Array.prototype.slice.call(arguments);return h.extend.apply(h,a)}function g(a){return void 0===a}function G(a){return"string"===typeof a}function q(a){return g(a)||null===a||g(a.length)?0:a.length}function K(a,b){return h(b).find(a)}function H(a,b){G(b)&&(b={error:b});h.isFunction(a)&&(a={error:a});G(a)?a=g(b)?{error:a}:v(!0,{error:a},b):g(a)?a=b:"object"===typeof a?a=v(!0,{},a,b):console&&console.error&&console.error("valjsGetMsgConfig",a,b);return a}
function k(a,b){var c=b.options;/^[a-z]+$/.test(a)?(g(c)||g(c.msg)||(c.msg=H(c.msg)),g(b.value)&&(b.value=!0),b=v(!0,{},l.ruleDefaults,{name:a},b),R.rules.k.push(a),R.rules[a]=b):h.error("Bad rule name")}function I(a,b,c){var d=a.config.elements,e=a.config.modifiers||{},f=d&&d[b]?[d[b]]:[],E="";if(!c)return f[0];a.config.modifierSeparator&&d[b]&&(E=d[b]+a.config.modifierSeparator);if(G(c))f.push(g(E+e[c])?"":e[c]);else if(q(c))for(a=0;a<q(c);a+=1)f.push(g(E+e[c[a]])?"":e[c[a]]);return f.join(" ")}
function da(a){var b=a.element;return b?b.data("vjs-bn").getCfg().iFindMsgFn(a):null}function N(a,b){return a.addClass(b)}function S(a,b,c,d){if(a)return a.removeClass(b.vars[c]),N(a,I(b,c,d)),a}function O(a){if(!g(a.data("valjs-ty")))return a.data("valjs-ty");var b=a.prop("tagName").toLowerCase(),c={type:null},d=["text","checkbox","file","radio","submit"];"input"===b?(b=a.prop("type").toLowerCase(),g(b)||(-1===h.inArray(b,d)?(c[b]=!0,c.type="text"):c.type=b)):"select"===b?(c.type=b,c.isMultiple=
g(a.attr("multiple"))?!1:!0):"textarea"===b&&(c.type=b);a.data("valjs-ty",c);return c}function T(a,b){var c=O(a),d=a.data("vjs-vc"),e=null,f={value:null,upd:!0};if("submit"===c.type)return f;switch(c.type){case "checkbox":case "radio":e=a.prop("checked");break;case "select":f.value=h.map(a.find("option"),function(a){a=h(a);if(a.is(":selected"))return g(a.val())?a.text():a.val()});e=f.value.join(",");""===e&&0<q(f.value)&&(e=" ");break;default:e=a.val()}g(d)?g(b)||"click"!==b.type||(f.upd=!1):d===
e&&(f.upd=!1);null===f.value&&(f.value=e);a.data("vjs-vc",e);return f}function ea(a){for(var b=/-([a-z0-9])/g,c=b.exec(a),d=String(a);null!==c;)d=d.replace(c[0],String(c[1].toUpperCase())),c=b.exec(a);return d}function P(a,b){var c=K("label[for='"+a.attr("id")+"']",b.jqContext);0===c.length&&"LABEL"===a.parent().get(0).nodeName&&(c=a.parent());return c}function U(){}function Y(a,b){function c(){e.ruleNames.sort(function(a,b){a=d[a].prio;b=d[b].prio;return a<b?-1:a>b?1:0})}var d=R.rules,e=null,f=this;
this.getCfg=function(){return e};this.getRules=function(){return e.ruleNames};this.hasRule=function(a){var b=0;if("[object Array]"===Object.prototype.toString.call(a)){for(b=0;b<a.length;b+=1)if(e.hasOwnProperty(a[b]))return!0;return!1}a||h.error("Bad args");return e.hasOwnProperty(a)};this.getFieldType=function(){return O(b)};this.isBound=function(){return 0<e.ruleNames.length};(function(){var E=g(a.config.msg)?{}:{msg:H(a.config.msg)},V={findMsg:a.config.findMsg,findLabel:a.config.findLabel},x=
a.config,r={},C=b.attr("name");C&&!g(x[C])&&(g(x[C].findMsg)||(r.findMsg=x[C].findMsg),g(x[C].findLabel)||(r.findLabel=x[C].findLabel));V=v(V,r);x=(x=b.attr("data-"+a.config.attrPrefix+"msg"))?{msg:H(x)}:{};b.data("vjs-bn",f);for(var l,r=0,m,C={ruleNames:[]},r=0;r<q(d.k);r+=1){l=g(d[d.k[r]].options)?{}:d[d.k[r]].options;m=d.k[r];var B=a.config,t={},w=b.attr("name"),n=v(!0,{},B.fields),B=B.rules;g(B)||g(B[m])||(t=v(t,B[m]),g(B[m].msg)||(t.msg=H(B[m].msg)));n&&w&&!g(n[w])&&(g(n[w].msg)||(t.msg=H(n[w].msg,
t.msg)),g(n[w][m])||(t.elmRules={},t.elmRules[m]="instance.name",g(n[w][m].msg)||(t.msg=H(t.msg,n[w][m].msg),delete n[w][m].msg),t=v(!0,t,n[w][m])));m=t;l=v(!0,{},l,E,m,x);var w=a,B=b,n=d[d.k[r]],z=l;m={};var y="data-"+w.config.attrPrefix+n.name,A=B.attr(y),t=null,u=void 0,u=void 0;if(z=!g(z.elmRules)&&!g(z.elmRules[n.name]))t={data:{}};else if(g(A)){var t={binding:null,elmRules:void 0},u=void 0,k=n.name;!0===w.config.allowRuleInitialization&&(u=n.testElement({form:w.$form,context:w.jqContext,rule:n,
element:B,valjs:w}),"object"===typeof u?g(u[k])?t.binding={data:u}:(t.binding={data:{}},t.elmRules={},t.elmRules[k]=!0):"boolean"===typeof u&&!0===u&&(t.binding={data:{}},t.elmRules={},t.elmRules[k]=!0));u=t;t=u.binding;m.elmRules=u.elmRules}else m.elmRules={},m.elmRules[n.name]="attribute";g(A)||(t={data:{}},""!==A||g(n.options)||g(n.options.value)||(A=n.options.value),t.data.value=A);if(t||z){m.elmRules={};m.elmRules[n.name]=1;u={};if(null!==t){w=y;B=B[0].attributes;y=void 0;A={};u=z=k=void 0;for(y=
0;y<q(B);y+=1)if(k=B[y].name,0===k.indexOf(w+"-")&&k.length>w.length)if(z=ea(k.substr(q(w)+1)),B[y].value){var u=n,p=z,D=B[y].value;g(u.options)||g(u.options[p])||"boolean"===typeof u.options[p]&&("true"===D.toLowerCase()?D=!0:"false"===D.toLowerCase()&&(D=!1));u=D;p=w+"-msg";D=u;0===k.indexOf(p)?k===p?(A.msg=A.msg||{},A.msg.error=D):-1!==k.indexOf(p+"-")&&(A.msg=A.msg||{},A.msg[ea(k.substr((p+"-").length))]=D):A=D;A===u&&(A={},A[z]=u)}else u=A,k=z,p=n,z=g(p.options)||g(p.options[z])||"boolean"!==
typeof p.options[z]?{}:!0,u[k]=z;u=A}m=v(!0,{},m,t.data,u);g(m.msg)||(m.msg=H(m.msg))}l=v(!0,l,m);l.msg=l.msg||{};g(l.elmRules)||(delete l.elmRules,C.ruleNames.push(d.k[r]),C[d.k[r]]=l)}e=C;e.iFindMsgFn=V.findMsg;e.iFindLabelFn=V.findLabel;c();E={valjs:a,elm:b,config:e};a.config.setupField!==h.noop&&a.config.setupField(E);e=E.config;return this})();(function(){var c=e.ruleNames.slice(0),f,x,r;e.ruleNames=[];if(0!==q(c)){for(f=0;f<q(c);f+=1)x=d[c[f]],r=null===x.bind||g(x.bind)||x.bind===h.noop?!0:
x.bind(v({config:a.config,context:a.jqContext,form:a.$form},{valjs:a,element:b,field:O(b),config:e[x.name],rule:x})),!1!==r?("object"===typeof r&&(e[x.name]=v(!0,{},e[x.name],r)),e.ruleNames.push(c[f])):delete e[c[f]];0===e.ruleNames.length?(f=da(b,a,!1),c=P(b,a),f&&f.hide(),f=I(a,"field"),b.removeClass(f),b.removeClass(a.vars.field),c&&(f=I(a,"label"),c.removeClass(f),c.removeClass(a.vars.label)),b.removeData("valjs-ty"),b.removeData("vjs-i"),b.removeData("vjs-cfg"),b.removeData("vjs-ct"),b.removeData("vjs-h"),
b.removeData("vjs-v"),b.removeData("vjs-vs"),b.removeData("vjs-vc"),b.removeData("vjs-cfg"),b.removeData("vjs-bn")):(e.fieldType=O(b),0<e.ruleNames.length&&(c=e,l.idCounter+=1,c.uid=l.idCounter,c=b.data("vjs-ct")?"":"unknown",N(b,I(a,"field",c)).data("vjs-ct",a).data("vjs-cfg",e).data(a.vars.off,0),S(P(b,a),a,"label",c)));return this}})()}function W(a,b,c){b=jQuery.Event(b+".valjs",c);a.trigger(b);return b}function fa(a,b,c){var d=c.status,e=b.data("vjs-bn").getCfg(),f=c.state,h=c.message,g=null,
x=""!==h&&"invalid"===d,r,k=!1;r=P(b,a);"valid"===d?(g="valid",k=!0):"unknown"===d?(g="unknown",k=!0):(g=["invalid",f],k=!1);c.ruleConfig=e[c.rule];c=da({element:b,valjs:a,create:x,validation:c});1===q(c)&&(k?c.html("").hide():c.html(h),b.data("vjs-msge",c),S(c,a,"msg",g));S(b,a,"field",g);1===q(r)&&S(r,a,"label",g);return b}function ga(a){return a.is(":visible")&&!a.is(":disabled")}function ha(a,b){a.removeData("vjs-h");a.removeData("vjs-v");a.removeData("vjs-vs");var c={status:"unknown"};W(a,"refreshfield",
{valjs:v(c,{context:b.jqContext,form:b.$form,element:a})}).isDefaultPrevented()||fa(b,a,c)}function Z(a,b,c,d,e){if(!1!==b.config.liveValidation||e){if(ga(a)){g(e)&&(e=!1);g(d)&&(d=T(a,c));var f=a.data("vjs-bn").getCfg(),k=f?f.ruleNames:null,f=a.data("vjs-h"),l=d,x=e,r,C=a.data("vjs-bn").getCfg(),p,m,B=[];d=[];var t=[];for(r=0;r<q(k);r+=1){p=R.rules[k[r]];m=C[k[r]];var w=b,n=a,z=p,y=m;m={event:c,config:y,valjs:w,element:n,field:v({value:l.value},O(n))};m=z.run(m,n);n={valjs:w,config:y,rule:z,element:n,
msgName:null};y=void 0;w={ok:!0,result:null};z=n.rule;if(!0!==m&&("object"!==typeof m||m.msg)){var y=n,A=m,u=void 0;"boolean"===typeof A?u="error":"object"===typeof A?u=A.msg:G(A)&&(u=A);y.msgName=u;"object"===typeof m&&(y=v(!0,{},m),delete y.msg,n.result=y);z.options&&z.options.msg&&null===z.options.msg.error&&null!==n.config.msg.error&&(n.msgName="error");z=n;n=n.config;y=z.msgName;h.isFunction(n.msg)?m=n.msg(z):g(n.msg)||g(n.msg[y])||(h.isFunction(n.msg[y])?m=n.msg[y](z):G(y)&&(m=n.msg[y]));w.ok=
!1}w.result=m;m=w;!1===m.ok?(B.push(p.name+m.result),d.push(v(!0,{},{msg:m.result},{rule:p.name}))):t.push(v(!0,{},m.result,{rule:p.name}))}c=(x?"1":"0")+B.join("|");k=5381;for(l=0;l<q(c);l+=1)x=c.charCodeAt(l),k=(k<<5)+k+x;B=k;if(f===B&&!1===b.config.alwaysTriggerFieldEvents)return a.data("vjs-vs");a.data("vjs-h",B);f=e;e=-1;if(!g(b)&&0<q(d)){if(d={status:"invalid",state:f?"error":"warning",message:d[0].msg,rule:d[0].rule},f=P(a,b))d.label=f.text()}else d={status:"valid"},e=1;a.data("vjs-v",e);a.data("vjs-vs",
d);W(a,"refreshfield",{valjs:v(d,{context:b.jqContext,form:b.$form,element:a})}).isDefaultPrevented()||fa(b,a,d);return 1===e?e:d}a.data("vjs-h")&&ha(a,b)}}function aa(a){if(h(this).data("vjs-bn")){var b=T(h(this),a);!0===b.upd&&Z(h(this),a.data.valjs,a,b)}}function ia(a){var b=a.data.valjs,c=b.$form;"TEXTAREA"!==h(a.target).prop("tagName")&&(c.data("vjs-fct",b),"keydown"===a.type&&13===a.keyCode&&(c.data("vjs-fct",b),0<q(b.s)?(a.preventDefault(),h(b.s).first().trigger("click")):0===q(c.find('input[type="submit"],button[type="submit"],button:not([type]),input[type="image"]'))&&
(a.preventDefault(),c.trigger("submit"))))}function ja(a,b,c){var d,e,f,k={invalid:[]},l=q(a.e);for(d=0;d<l;d+=1)f=h(a.e[d]),e=T(f,b),e=Z(f,a,b,e,!0===c?!0:!1),g(e)||!0===e||"invalid"!==e.status||k.invalid.push(e);return k}function pa(a,b){if(b&&!0===b.valjsDone)return!0;var c=h(this).data("vjs-fct"),d=null,e;if(!c)return a.preventDefault(),h(this).trigger("submit",{valjsDone:!0}),!0;e=c.jqContext;h(this).removeData("vjs-fct");d=ja(c,a,!0);if(0===q(d.invalid)){var d=c.context,f=c.$form[0],g=c.$form[0],
k=c.context,c=c.jqContext.find("input,select,textarea,button").serializeArray(),l={},r,p;for(p=0;p<q(c);p+=1)l[c[p].name]?(G(l[c[p].name])&&(r=String(l[c[p].name]),l[c[p].name]=[r]),l[c[p].name].push(c[p].value)):l[c[p].name]=c[p].value;e=W(e,"submitform",{currentTarget:d,target:f,valjs:v({},{form:g,context:k,formData:l})});e.isDefaultPrevented()?a.preventDefault():h(this).trigger("submit",{valjsDone:!0})}else return W(e,"invalidform",{target:c.context,valjs:v({},d,{form:c.$form[0],context:c.context})}),
h(this).removeData("vjs-fct"),a.preventDefault(),!1}function L(a){var b=[],c;for(c=0;c<q(a);c+=1)b.push(a[c]+".valjs");return b.join(" ")}function M(a,b){return g(a)?-1:a.indexOf(b)}function qa(a){var b=a.elements,c=a.modifiers||{},d=[],e,f,g,h={};for(e in c)c.hasOwnProperty(e)&&d.push(e);for(f in b)if(b.hasOwnProperty(f)){e=[];for(g=0;g<q(d);g+=1)e.push((a.modifierSeparator?b[f]+a.modifierSeparator:"")+c[d[g]]);h[f]=e.join(" ")}return h}function ra(a,b){var c=null;if(0===M(b,"#"))return h(b);c=a.find('[name="'+
b+'"]');0===q(c)&&(c=a.find(b).first());return c}function Q(a){var b=a.config.selector,c;a.e=[];b=K(b.elements,a.context);for(c=0;c<q(b);c+=1)(new Y(a,h(b[c]))).isBound()&&a.e.push(b[c]);a.$form.data("vjs-b")||(a.$form.data("vjs-b",1),a.$form.on(L(["submit"]),{valjs:a},pa));a.jqContext.on(L(["click","change","keyup","blur"]),"textarea, input:not([type=checkbox], [type=radio], [type=submit], [type=button])",{valjs:a},aa).on(L(["keydown"]),{valjs:a},ia).on(L(["click","change"]),"select",{valjs:a},aa).on(L(["click",
"change"]),"input[type=checkbox], input[type=radio]",{valjs:a},aa);h(a.s).on(L(["click"]),{valjsSubmit:!0,valjs:a},ia)}function p(a){return parseInt(a,10)}function F(a){if(0===a)return"n/a";var b=p(Math.floor(Math.log(a)/Math.log(1024)));return Math.round(a/Math.pow(1024,b),2)+(0<b?" ":"")+(0<b?" KMGTPEZY"[b]+"iB":" bytes")}function ka(a){a.setDate(a.getDate()+3-(a.getDay()+6)%7);return a.getFullYear()}function sa(a,b){var c,d,e,f={isDate:!1,isWeek:!1,isDateRelated:!1,pattern:"",macroPositions:[]};
for(c=0;c<q(b);c+=1)f.macroPositions.push([b[c],M(a,"%"+b[c])]),"m"===b[c]?f.isDate=!0:"H"===b[c]?f.isDateTime=!0:"w"===b[c]&&(f.isWeek=!0);f.isDateRelated=f.isDate||f.isDateTime;f.isDate=!f.isWeek&&!f.isDateTime;f.macroPositions.sort(function(a,b){a=a[1];b=b[1];return a<b?-1:a>b?1:0});for(c=0;c<f.macroPositions.length;c+=1);f.pattern=a.replace(".","\\.").replace("(","\\(").replace(")","\\)").replace(/\\/g,"\\\\");for(c=0;c<q(b);c+=1){d="%"+b[c];switch(b[c]){case "y":e="(\\d{4})";break;default:e=
"(\\d{1,2})"}f.pattern=f.pattern.replace(d,e)}return f}function J(a,b,c){if("now"===a)return{date:new Date};var d;d=null;b=sa(b,c);if(c=new RegExp("^"+b.pattern+"$"))if(a=c.exec(a)){d={};for(c=1;c<a.length;c+=1)d[b.macroPositions[c-1][0]]=p(a[c]);if(b.isDateRelated){var e,f;--d.m;e=b.isDate?new Date(d.y,d.m,d.d):new Date(d.y,d.m,d.d,d.H,d.M);e.getFullYear()===d.y&&e.getMonth()===d.m&&e.getDate()===d.d&&(b.isDateTime?e.getHours()===d.H&&e.getMinutes()===d.M&&(f=v(!0,{},d,{date:e})):f=v(!0,{},d,{date:e}));
d=f}else f=new Date(d.y,0,1+7*(d.w-1)),4>=f.getDay()?f.setDate(f.getDate()-f.getDay()+1):f.setDate(f.getDate()+8-f.getDay()),1===d.w&&ka(f)===d.y-1&&(e=v(!0,{},d,{date:f})),f.getFullYear()===ka(f)&&f.getFullYear()===d.y&&(e=v(!0,{},d,{date:f})),d=e}return d}function la(a,b,c,d){var e=J(a.config.max,c,d);return(a=J(a.config.min,c,d))&&b<a.date?"min":e&&b>e.date?"max":!0}function ba(a,b){var c=a.field.value,d=a.config.format;if("d"===b){if(c=J(c,d,["y","m","d"]))return la(a,c.date,"%y-%m-%d",["y","m",
"d"])}else if("dt"===b){if(c=J(c,d,["y","m","d","H","M"]))return la(a,c.date,"%y-%m-%d %H:%M",["y","m","d","H","M"])}else if("w"===b&&(c=J(c,d,["y","w"]))){var e=["y","w"],d=J(a.config.max,"%y-W%w",e),c=(e=J(a.config.min,"%y-W%w",e))&&c.date<e.date?"min":d&&c.date>d.date?"max":!0;return c}return!1}function ma(a,b){var c=a.valjs("getFieldType"),d=a.attr(b);return"select"===c.type&&!0===c.isMultiple?g(d)?!1:{value:d}:!1}function ca(a,b,c){if(!a)return NaN;"."!==b&&(a=a.replace(".","=-=!"));a=a.replace(b,
".");a=a.replace(/^0+(\d)/,"$1");c&&(a=a.replace(/\.0+$/,""),-1!==a.indexOf(".")&&(a=a.replace(/\.([0-9]+?)(0+)$/,".$1")));b=c?parseFloat(a):p(a);return String(b)===String(a)?b:NaN}function na(a){if(!("text"!==a.type&&"textarea"!==a.type||a.date||a.number||a.week||a.datetime))return!0}var l=function(a,b){this.valjsv="0.7.6";this.context=a;this.jqContext=h(a);this.jqContext.data("vjs-i",this);this.options=b;this.metadata=this.jqContext.data("valjs");this.$form=null;this.vars={off:"valjs__off",clean:{}};
this.e=[];this.s=[]},ta=X.ValJS&&X.ValJS.global?X.ValJS.global:{},R=l,oa="week date datetime number listmax filemin filemax".split(" ");U.prototype.hasRule=h.noop;U.prototype.getFieldType=h.noop;U.prototype.getRules=h.noop;Y.prototype=new U;l.prototype={defaults:{elements:{submit:"valjs__submit",field:"valjs__field",form:"valjs__form",label:"valjs__label",msg:"valjs__msg",context:"valjs__context"},alwaysTriggerFieldEvents:!1,liveValidation:!0,createMsg:!0,modifierSeparator:null,attrPrefix:"",findMsg:function(a){var b=
a.element,c=a.valjs;a=a.create;var d=null,e=c.jqContext.find("[data-msg-for='"+b.attr("id")+"']");c.config.elements&&c.config.elements.msg&&0===q(e)&&(d="LABEL"===b.parent().prop("tagName")?b.parent():b,e=d.next("."+c.config.elements.msg));0===q(e)&&a&&c.config.createMsg&&(e=h("<span>"),e=e.insertAfter(d));a&&e.show();return e},findLabel:P,allowRuleInitialization:!0,setupField:h.noop,modifiers:{valid:"valjs-valid",invalid:"valjs-invalid",unknown:"valjs-unknown",error:"valjs-error",warning:"valjs-warning"},
selector:{elements:"input:not([type=submit], [type=button]),select,textarea",submit:'input[type="submit"],button[type="submit"],button:not([type]),input[type="image"]'},submitform:h.noop},ruleDefaults:{testElement:h.noop,bind:h.noop,prio:100,run:h.noop,options:{value:!0},findMsg:h.noop},resetField:function(){var a=h(this).data("vjs-ct");ha(h(this),a)},validateField:function(){var a=h(this).data("vjs-ct"),b=T(h(this));return Z(h(this),a,b)},validateForm:function(){var a=h(this).data("vjs-i");return ja(a,
jQuery.Event("validateForm"),!1)},getFieldStatus:function(){var a=h(this).data("vjs-v");return g(a)?0:a},updateBindings:function(){Q(h(this).data("vjs-i"))},getRuleMessages:function(){Q(h(this).data("vjs-i"))},init:function(){this.config=v(!0,{},this.defaults,ta,l.global,this.options);var a=this,b=this.config.selector;this.vars=qa(this.config);if("FORM"===this.jqContext.prop("tagName"))this.$form=this.jqContext;else if(this.$form=this.jqContext.closest("form"),this.$form.data("vjs-i"))throw"valjs: form/context conflict";
N(this.jqContext,I(this,"context"));N(this.$form.attr("novalidate",""),I(this,"form"));this.s=h(K(b.submit,this.jqContext));N(this.s,I(this,"submit"));if(this.config.submitform&&this.config.submitform!==h.noop)this.jqContext.on("submitform.valjs",this.config.submitform);h.isFunction(this.config.init)?setTimeout(function(){Q(a);a.config.init(a)},1):Q(a);return this},refresh:function(){Q(this)},disable:function(a){this.valjsv&&this.$elm.find(a).data(this.vars.off,1)}};l.idCounter=0;l.ruleDefaults=l.prototype.ruleDefaults;
l.global={};l.addRule=k;l.rules={k:[]};h.fn.valjs=function(a){if(l.prototype[a]){if(h(this).data("vjs-i"))return l.prototype[a].apply(h(this),Array.prototype.slice.call(arguments,1));h.error("ValJS not found")}else if(Y.prototype[a]&&h(this).data("vjs-bn")){var b=Array.prototype.slice.call(arguments,1),c=this.map(function(c){c=a;var e=b;if(l.prototype[c])c=l.prototype[c].apply(h(this),e);else{var f=h(this).data("vjs-bn");c=f?f[c].apply(f,e):{}}return c});return 1===c.length?c[0]:c}if("object"===typeof a||
!a)return this.each(function(){if(h(this).data("vjs-i"))return h(this).valjs("updateBindings"),this;(new l(this,a||{})).init()});h.error("No ValJS method "+a)};k("listmin",{options:{msg:"Select more items"},testElement:function(a){return ma(a.element,"min")},run:function(a){var b=a.config.value;return q(K("option:selected",a.element))>=b},bind:function(a){return{value:p(a.config.value)}}});k("listmax",{options:{msg:"Too many items selected"},testElement:function(a){return ma(a.element,"max")},run:function(a){var b=
a.config.value;return q(K("option:selected",a.element))<=b},bind:function(a){return{value:p(a.config.value)}}});k("date",{options:{msg:{error:"Invalid date",max:"Enter an earlier date",min:"Enter a later date"},format:"%y-%m-%d"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=a.element;var b,c={};if(b=a.attr("min"))c.min=b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ba(a,"d")}});k("datetime",{options:{msg:{error:"Invalid date",
max:"Enter an earlier date",min:"Enter a later date"},format:"%y-%m-%d %H:%M"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=a.element;var b,c={};if(b=a.attr("min"))c.min=b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ba(a,"dt")}});k("week",{options:{msg:{error:"Invalid week",max:"Enter an earlier week",min:"Enter a later week"},format:"%y-W%w"},testElement:function(a){return a.element.attr("type")===a.rule.name},bind:function(a){a=
a.element;var b,c={};if(b=a.attr("min"))c.min=b;if(b=a.attr("max"))c.max=b;return c},run:function(a){return 0===q(a.field.value)?!0:ba(a,"w")}});k("required",{options:{msg:"Required",trim:!1,emptyIndex:void 0,emptyValue:void 0},prio:10,testElement:function(a){return!g(a.element.attr(a.rule.name))},run:function(a){var b=a.element,c=a.field.type,d=a.field.value,e=0;if("text"===c||"textarea"===c||"file"===c){if(d=!0===a.config.trim?h.trim(a.field.value):d,0===q(d))return"error"}else if("select"===c)if(g(b.attr("multiple"))){if(!g(a.config.emptyIndex))return e=
p(a.config.emptyIndex),d=K("option:selected",b).index(),d===e?"error":!0;if(!g(a.config.emptyValue))return d[0]===a.config.emptyValue?"error":!0;if(0===q(d[0]))return"error"}else{if(0===q(d))return"error"}else if(("checkbox"===c||"radio"===c)&&!1===d)return"error";return!0}});k("number",{options:{msg:{error:"Not a number",max:"Value too high",min:"Value too low"},separator:".",step:null},testElement:function(a){return"number"===a.element.attr("type")},run:function(a){var b=a.field.value,c="any"===
a.config.step,d=ca(a.config.max,".",c),e=ca(a.config.min,".",c),f=b;if(0!==q(b)){f=ca(b,a.config.separator,c);if(isNaN(f))return!1;if(!isNaN(e)&&f<e)return"min";if(!isNaN(d)&&f>d)return"max"}return!0},bind:function(a){return{step:a.element.attr("step"),min:a.element.attr("min"),max:a.element.attr("max")}}});k("textmax",{options:{msg:{error:"Text too long"}},prio:150,testElement:function(a){var b=a.element.valjs("getFieldType");if((a=a.element.attr("max"))&&na(b))return{value:a}},bind:function(a){return a.element.valjs("hasRule",
oa)?!1:v(!0,a.config,{value:p(a.config.value)})},run:function(a){var b=a.field.value;return b&&q(b)>a.config.value?!1:!0}});k("textmin",{options:{msg:{error:"Text too short"}},prio:150,testElement:function(a){var b=a.element.valjs("getFieldType");if((a=a.element.attr("min"))&&na(b))return{value:a}},bind:function(a){return a.element.valjs("hasRule",oa)?!1:v(!0,a.config,{value:p(a.config.value)})},run:function(a){var b=a.field.value;return b&&q(b)<a.config.value?!1:!0}});k("filemax",{options:{msg:{error:null,
one:"File too large",all:"Total size too large"}},testElement:function(a){var b=a.element.valjs("getFieldType");a=a.element.attr("max");if("file"===b.type&&a)return{value:a}},bind:function(a){return v(!0,a.config,{value:p(a.config.value)})},run:function(a){var b=a.config.value,c=a.element[0].files,d=q(c),e,f=0;if(0<d){for(e=0;e<d;e+=1)if(a=c[e].size,f+=a,a>b)return{msg:"one",maxKiB:b,maxsize:F(b),filename:c[e].name,fileKiB:a,filesize:F(a)};if(f>b)return{msg:"all",totalKiB:f,totalsize:F(f),maxsize:F(b),
maxKiB:b}}return!0}});k("filemin",{options:{msg:{error:null,one:"File too small",all:"Total size too small"}},testElement:function(a){var b=a.element.valjs("getFieldType");a=a.element.attr("min");if("file"===b.type&&a)return{value:a}},bind:function(a){return v(!0,a.config,{value:p(a.config.value)})},run:function(a){var b=a.config.value,c=a.element[0].files,d=q(c),e,f=0;if(0<d){for(e=0;e<d;e+=1)if(a=c[e].size,f+=a,a<b)return{msg:"one",minbytes:b,minsize:F(b),filename:c[e].name,filebytes:a,filesize:F(a)};
if(f<b)return{msg:"all",totalbytes:f,totalsize:F(f),minsize:F(b),minbytes:b}}return!0}});k("email",{options:{msg:{error:"Invalid e-mail"},domain:!0},testElement:function(a){return a.element.attr("type")===a.rule.name},run:function(a){var b=a.field.value,c,d=!0,e,f;return 0<q(b)?(G(b)||(b=b[0]),c=b.indexOf("@"),-1===c?d=!1:(d=b.substr(c+1),c=b.substr(0,c),e=c.length,f=d.length,d=1>e||64<e||1>f||255<f||"."===c[0]||"."===c[e-1]||/\.\./.test(c)||!/^[\u00e5\u00e4\u00f6A-Za-z0-9\\-\\.]+$/.test(d)||!/^[\u00e5\u00e4\u00f6A-Za-z0-9\\-\\.]+$/.test(d)||
/\.\./.test(d)||!/^(\.|[A-Za-z0-9!#%&`_=\/$\'*+?\^{}|~.\-])+$/.test(c.replace("\\\\",""))&&!/^"(\\\\"|[^"])+"$/.test(c.replace("\\\\",""))?!1:!0,a.config.domain&&(/\.[a-z]{2,4}$/.test(b)||(d=!1))),d?!0:!1):!0},bind:function(a){return"select"===a.type&&g(a.element.attr("multiple"))?!1:!0}});k("confirm",{options:{msg:{error:"Fields don't match",invalidSource:"Source field invalid"}},run:function(a){if(!ga(a.config.celm))return!0;0===a.config.celm.valjs("getFieldStatus")&&a.config.celm.valjs("validateField");
return-1===a.config.celm.valjs("getFieldStatus")?"invalidSource":a.config.celm.val()===a.element.val()?!0:!1},bind:function(a){var b=ra(a.context,a.config.value);if(!g(b)){if(a.valjs.config.liveValidation)b.on("keydown keyup change blur",function(){a.element.valjs("validateField")}).on("validfield.valjs",function(){a.element.valjs("validateField")});return{celm:b}}}});k("pattern",{options:{ignoreCase:!1,invert:!1,msg:{error:"Incorrect format"}},testElement:function(a){if(a=a.element.attr("pattern"))return{value:a}},
run:function(a){var b=new RegExp(a.config.value,a.config.ignoreCase?"i":"");if(a.field.value){if(b){if(b=b.test(a.field.value))return a.config.invert?!1:!0;if(a.config.invert)return!0}return!1}return!0}});k("url",{options:{value:"ost",msg:{error:"Invalid URL"}},testElement:function(a){return"url"===a.element.attr("type")},run:function(a){return a.field.value?/^(https?|s?ftp|wss?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a.field.value):
!0}});k("security",{options:{value:"luns",match:2,msg:{error:"Requirements not met"}},bind:function(a){return{match:p(a.config.match)}},run:function(a){var b=a.field.value,c=a.config.value;a=a.config.match;var d=0;a>c.length&&(a=c.length);-1!==M(c,"l")&&(d+=b.match(/[a-z]/)?1:0);-1!==M(c,"u")&&(d+=b.match(/[A-Z]/)?1:0);-1!==M(c,"n")&&(d+=b.match(/\d/)?1:0);-1!==M(c,"s")&&(c=new RegExp("["+'!@#$%^&*()_+|~-=\u00e2\u20ac\u02dc{}[]:";\u00e2\u20ac\u2122<>?,./'.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")+"]"),b.match(c)&&(d+=1));return d>=a?!0:!1}});return l}(window,jQuery);